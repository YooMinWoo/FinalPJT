<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >  

<mapper namespace="superPms.dao.Notice_Dao">
	<select id="noticeList" parameterType="noticesch" resultType="notice">
		SELECT rownum, 
			noticeno,
			refno,
			to_char(regdte,'yyyy-mm-dd') regdte,
			to_char(uptdte,'yyyy-mm-dd') uptdte,
			title,
			content,
			viewcnt,
			writer,
			fno,
			deptid
		FROM (SELECT * FROM notice ORDER BY UPTDTE DESC) n
		where deptid like '%'||#{schInfo}||'%'
		or title like '%'||#{schInfo}||'%'
	</select>
	<select id="noticeDetail" parameterType="notice" resultType="notice">
		SELECT rownum, 
			noticeno,
			refno,
			to_char(regdte,'yyyy-mm-dd') regdte,
			to_char(uptdte,'yyyy-mm-dd') uptdte,
			title,
			content,
			viewcnt,
			writer,
			fno,
			deptid
		FROM notice
		where noticeno=#{noticeno}
	</select>
</mapper>